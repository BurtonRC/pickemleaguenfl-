<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="picksTable.css">
  <link rel="stylesheet" type="text/css" href="index.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

  <title>JW's Pick'em League</title>
</head>
<body>
  
  <section class="sports-news-container">
    <header class="top-bar">
        <div class="container">
          <div class="top-bar-content">
            <a href="index.html"><img src="./img/pickem_logo.png" alt="JW's Pick'em League Logo" class="logo" /></a>
          
              <nav class="nav-links">
                <a href="picks.html" class="nav-link">This Week's Picks</a>
                <a href="leaderboard.html" class="nav-link">PL Leaderboard</a>
                <a href="survivor.html" class="nav-link">Survivor Series</a>
                <a href="weeklyreports.html" class="nav-link">The Weekly Reports</a>
              </nav>

            <!-- Hamburger Icon -->
            <div class="hamburger-menu">
              <div class="hamburger-icon" onclick="toggleMenu()">â˜°</div>

                <!-- Hidden Menu -->
                <div id="menu-content" class="menu-content">
                    <!-- Close button (X) inside the menu -->
                    <div class="close-icon" onclick="toggleMenu()">âœ–</div>

                    <a href="index.html"><img src="./img/pickem_logo.png" alt="JW's Pick'em League logo" class="logo-hamburger" /></a>

                    <!-- Navigation links inside the mobile menu -->
                    <nav class="mobile-nav-links">
                      <a href="index.html">Home</a>
                      <a href="picks.html">This Week's Picks</a>
                      <a href="leaderboard.html">PL Leaderboard</a>
                      <a href="survivor.html">Survivor Series</a>
                      <a href="weeklyreports.html">The Weekly Reports</a>
                    </nav>
                </div>
            </div>
        </div>
      </div>
    </header>
  
<div class="picksHero">
    <div class="glimage"></div>
</div>
  
    
      <div class="hdr-main">
        <p style="font-size: 1em; font-weight: bold; color: #b1945a; margin: 5px 0;">Week 05</p>
        <h1 class="guide">Quick Guide Weekly Selections</h1>
      </div>

      <div class="box" style="border-top: 10px solid #b1945a;">
        <br>
        <p>Scheduled games by week are listed below, input your choices for each new week:</p>
        <ol>
            <li><strong>NAME</strong><br>
                 Please enter First and Last names, correctly spelled please. 
            </li>
            <li><strong>DRIVE-BYS</strong><br>
                 Click toggle buttons (minimum one db per week).</li>
            <li><strong>DISRUPTOR PS & GAME WINNERS</strong><br>
                 Click the drop downs and select wisely.
            </li>
            <!--<li><strong>SURVIVOR</strong> Still hanging in there?<br>
                 Click the last drop down on the table.
            </li>-->
        </ol>
        
        <p><strong>GROUP EMAIL</strong><br>Once you submit your picks an email confirmation is sent to the group listing your selections and comments/tom-foolery.</p>
        <br>
      </div>
    
     <br>   

   <div class="box">
    <div class="weekTable">    
      <form id="myForm" method="post" action="https://script.google.com/macros/s/AKfycbw4IWGEtufqQdUIxvH_2_w-Mxn-Y9SmxFwllZCx5CCweri6qIRm67AGBWGykUyzwZE/exec">
            <div>
            <table>
                <tbody>
                  <tr>
                      <td>
                        <label for="firstName">First Name:</label>
                        <input type="text" id="firstName" name="firstName" required>
                      </td>
                      <td>
                        <label for="lastName">Last Name:</label>
                        <input type="text" id="lastName" name="lastName" required>
                      </td>
                  </tr>
                </tbody>    
              </table>
            </div>
            
            <div>
              <table>                 
                    <thead>
                        <tr>
                        <th scope="col">Week 04</th>
                        <th scope="col">Day</th>
                        <th scope="col">DB</th>
                        <th scope="col">PS</th>
                        <th scope="col">Selections</th>
                        </tr>
                    </thead>
                        <tbody>

                          <tr>
                            <td>San Fran 49ers @ Seattle Seahawks</td>
                            <td>Thur</td>
                            <td></td>
                            <td></td>
                            <td>
                                <select data-cookie-id="game1" name="Games_1">
                                    <option value="">--Select Team--</option>
                                    <option value="San Fran">San Francisco 49ers</option>
                                    <option value="Seattle">Seattle Seahawks</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td>Jacksonville Jags @ Chicago Bears</td>
                            <td>Sun</td>
                            <td></td>
                            <td></td>
                            <td>
                                <select data-cookie-id="game2" name="Games_2">
                                    <option value="">--Select Team--</option>
                                    <option value="Jacksonville">Jacksonville Jaguars</option>
                                    <option value="Chicago">Chicago Bears</option>
                                </select>
                            </td>  
                          </tr>

                          <tr>
                            <td>Wash Commanders @ Baltimore Ravens</td>
                            <td>Sun</td>
                            <td></td>                            
                            <td></td>
                            <td>
                                <select data-cookie-id="game3" name="Games_3">
                                    <option value="">--Select Team--</option>
                                    <option value="Washington">Washington Commanders</option>
                                    <option value="Baltimore">Baltimore Ravens</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td>Arizona Cardinals @ Green Bay Packers</td>
                            <td>Sun</td>
                            <td></td>                           
                            <td></td>
                            <td>
                                <select data-cookie-id="game4" name="Games_4">
                                    <option value="">--Select Team--</option>
                                    <option value="Arizona">Arizona Cardinals</option>
                                    <option value="Green Bay">Green Bay Packers</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td>Houston Texans @ New England Patriots</td>
                            <td>Sun</td>
                            <td></td>                            
                            <td></td>
                            <td>
                                <select data-cookie-id="game5" name="Games_5">
                                    <option value="">--Select Team--</option>
                                    <option value="Houston">Houston Texans</option>
                                    <option value="New England">New England Patriots</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td>Tampa Bay Bucs @ New Orleans Saints</td>
                            <td>Sun</td>                              
                            <td></td>
                            <td></td>
                            <td>
                                <select data-cookie-id="game6" name="Games_6">
                                    <option value="">--Select Team--</option>
                                    <option value="Tampa Bay">Tampa Bay Buccaneers</option>
                                    <option value="New Orleans">New Orleans Saints</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td>Cleveland Browns @ Philadelphia Eagles</td>
                            <td>Sun</td>                            
                            <td></td>
                            <td></td>
                            <td>
                                <select data-cookie-id="game7" name="Games_7">
                                    <option value="">--Select Team--</option>
                                    <option value="Cleveland">Cleveland Browns</option>
                                    <option value="Philadelphia">Philadelphia Eagles</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td>Indianapolis Colts @ Tennessee Titans</td>
                            <td>Sun</td>    
                            <td></td>
                            <td></td>
                            <td>
                                <select data-cookie-id="game8" name="Games_8">
                                    <option value="">--Select Team--</option>
                                    <option value="Indianapolis">Indianapolis Colts</option>
                                    <option value="Tennessee">Tennessee Titans</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td>Los Angeles Chargers @ Denver Broncos</td>
                            <td>Sun</td>                            
                            <td></td>
                            <td></td>
                            <td>
                                <select data-cookie-id="game9" name="Games_9">
                                    <option value="">--Select Team--</option>
                                    <option value="LA Chargers">Los Angeles Chargers</option>
                                    <option value="Denver">Denver Broncos</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td>Pittsburgh Steelers @ Las Vegas Raiders</td>
                            <td>Sun</td>                            
                            <!--<td>
                              <span>AzC(db)</span>  <br><br>
                              <div class="slide-box">
                                <label class="switch">
                                <input type="checkbox" id="toggle-azc" name="DriveBy_10" value="AzC(db)" data-cookie-id="toggle-azc"/><div></div></label>
                              </div>
                            </td>-->
                            <td></td>
                            <td></td>
                            <td>
                                <select id="dropdown-azc" name="Games_10" data-cookie-id="game10">
                                    <option value="">--Select Team--</option>
                                    <option value="Pittsburgh">Pittsburgh Steelers</option>
                                    <option value="Las Vegas">Las Vegas Raiders</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td>Atlanta Falcons @ Carolina Panthers</td>
                            <td>Sun</td>
                            <td></td>
                            <td></td>
                            <td>
                                <select data-cookie-id="game11" name="Games_11">
                                    <option value="">--Select Team--</option>
                                    <option value="Atlanta">Atlanta Falcons</option>
                                    <option value="Carolina">Carolina Panthers</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td>Detroit Lions @ Dallas Cowboys</td>
                            <td>Sun</td>                                                        
                            <!--<td>
                              <span>NYG(db)</span>  <br><br>
                              <div class="slide-box">
                                <label class="switch">
                                <input type="checkbox" id="toggle-nyg" name="DriveBy_12" value="NYG(db)" data-cookie-id="toggle-nyg" />    <div></div></label>
                              </div>
                            </td>-->                            
                            <td></td>
                            <td></td>
                            <td>
                                <select id="dropdown-nyg" name="Games_12" data-cookie-id="game12">
                                    <option value="">--Select Team--</option>
                                    <option value="Detroit">Detroit Lions</option>
                                    <option value="Dallas">Dallas Cowboys</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td>Cincinnati Bengals @ New York Giants</td>
                            <td>Sun</td>                           
                            <td></td>
                            <td></td>
                            <td>
                                <select data-cookie-id="game13" name="Games_13">
                                    <option value="">--Select Team--</option>
                                    <option value="Cincinnati">Cincinnati Bengals</option>
                                    <option value="NY Giants">New York Giants</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td>Buffalo Bills @ New York Jets</td>
                            <td>Mon</td>
                            <td></td>                            
                            <!--<td>
                                <label for="NOSPs">NOS +4.5
                                <select id="NOSPs" data-cookie-id="pointspread14" name="PointSpread_14">
                                    <option value="">--Select Cover--</option>
                                    <option value="NO Cover">NO covers +4.5</option>
                                    <option value="KC Cover">KC covers -4.5</option>
                                </select>
                                </label>
                            </td>-->
                            <td></td>
                            <td>
                                <select data-cookie-id="game14" name="Games_14">
                                    <option value="">--Select Team--</option>
                                    <option value="Buffalo">Buffalo Bills</option>
                                    <option value="NY Jets">New York Jets</option>
                                </select>
                            </td>
                          </tr>

                          <!--<tr>
                            <td>Tennessee Titans @ Miami Dolphins</td>
                            <td>Mon</td>
                            <td></td>                           
                            <td></td>
                            <td>
                                <select data-cookie-id="game15" name="Games_15">
                                    <option value="">--Select Team--</option>
                                    <option value="Tennessee">Tennessee Titans</option>
                                    <option value="Miami">Miami Dolphins</option>
                                </select>
                            </td>
                          </tr> -->

                          <!--<tr>
                            <td>Seattle Seahawks @ Detroit Lions</td>
                            <td>Mon</td>
                            <td></td>                            
                            <td></td>
                            <td>
                                <select data-cookie-id="game16" name="Games_16">
                                    <option value="">--Select Team--</option>
                                    <option value="Seattle">Seattle Seahawks</option>
                                    <option value="Detroit">Detroit Lions</option>
                                </select>
                            </td>
                          </tr>-->

                          <tr style="display: none;">
                            <td>Survivor Selection:</td>
                            <td colspan="2"></td>
                            <td>Allan & Mikaila ðŸ˜Ž</td>
                            <td colspan="1">
                                <select id="survivor" name="Survivor">
                                    <option value="">--Select Team--</option>
                                    <option value="Arizona">Arizona Cardinals</option>
                                    <option value="Atlanta">Atlanta Falcons</option>
                                    <option value="Baltimore">Baltimore Ravens</option>
                                    <option value="Buffalo">Buffalo Bills</option>
                                    <option value="Carolina">Carolina Panthers</option>
                                    <option value="Chicago">Chicago Bears</option>
                                    <option value="Cincinnati">Cincinnati Bengals</option>
                                    <option value="Cleveland">Cleveland Browns</option>
                                    <option value="Dallas">Dallas Cowboys</option>
                                    <option value="Denver">Denver Broncos</option>
                                    <option value="Detroit">Detroit Lions</option>
                                    <option value="Green Bay">Green Bay Packers</option>
                                    <option value="Houston">Houston Texans</option>
                                    <option value="Indianapolis">Indianapolis Colts</option>
                                    <option value="Jacksonville">Jacksonville Jaguars</option>
                                    <option value="KansasCity">Kansas City Chiefs</option>
                                    <option value="Las Vegas">Las Vegas Raiders</option>
                                    <option value="LA Chargers">Los Angeles Chargers</option>
                                    <option value="LA Rams">Los Angeles Rams</option>
                                    <option value="Miami">Miami Dolphins</option>
                                    <option value="Minnesota">Minnesota Vikings</option>
                                    <option value="New England">New England Patriots</option>
                                    <option value="New Orleans">New Orleans Saints</option>
                                    <option value="NY Giants">New York Giants</option>
                                    <option value="NY Jets">New York Jets</option>
                                    <option value="Philadelphia">Philadelphia Eagles</option>
                                    <option value="Pittsburgh">Pittsburgh Steelers</option>
                                    <option value="San Francisco">San Francisco 49ers</option>
                                    <option value="Seattle">Seattle Seahawks</option>
                                    <option value="Tampa Bay">Tampa Bay Buccaneers</option>
                                    <option value="Tennessee">Tennessee Titans</option>
                                    <option value="Washington">Washington Commanders</option>
                                </select>                            
                          </tr>

                          <tr>
                              <td><label for="comments">Insight and Tom-Foolery:</label></td>
                              <td colspan="4">
                                  <textarea id="comments" name="comments" rows="5" cols="90" placeholder="And begin..."></textarea>
                              </td>
                              
                          </tr>

                          <tr>
                              <td colspan="2"></td>
                              <td>
                                  <input class="submitButton" type="submit" value="submit" />
                              </td>
                              <td></td>
                              <td></td>
                          </tr>

                        </tbody>                    
              </table>
            </div>
        </form>
    </div>
  </div>
  <br>
<section class="news-grid">
      <div class="container">
      <div class="news-row">
        <article class="news-item">
          <div class="news-content">
            <img src="./img/news13.jpg" alt="Cleveland Browns roster moves" class="news-image" />
            <div class="news-tag">News</div>
            <time datetime="2024-10-02" class="feature-date">Oct 2, 2024</time>
            <h3 class="news-title">Cleveland Browns have made the following roster moves</h3>
            <p class="news-summary">Browns designate Nick Chubb, Nyheim Hines and Michael Dunn for return to practice</p>
          </div>
        </article>
        <article class="news-item">
          <div class="news-content">
            <img src="./img/news14.jpg" alt="Steve McMichael enshrined in Pro Football Hall of Fame" class="news-image" />
            <div class="news-tag">News</div>
            <time datetime="2024-08-03" class="feature-date">Aug 3, 2024</time>
            <h3 class="news-title">Steve McMichael enshrined in Pro Football Hall of Fame</h3>
            <p class="news-summary">Unable to travel to the Pro Football Hall of Fame due to his battle with ALS, former Bears star defensive tackle Steve McMichael was presented at his Chicago area home.</p>
          </div>
        </article>
        <article class="news-item">
          <div class="news-content">
            <img src="./img/news15.jpg" alt="Cardinals D-Line visit mission" class="news-image" />
            <div class="news-tag">News</div>
            <time datetime="2024-10-02" class="feature-date">Oct 2, 2024</time>
            <h3 class="news-title">Nick Folk AFC Special Teams Player of the Week</h3>
            <p class="news-summary">NASHVILLE â€“ Titans kicker Nick Folk has been named AFC Special Teams Player of the Week following his performance against the Dolphins in Week 4.</p>
          </div>
        </article>
      </div>
      </div>
    </section> 
  
    <footer class="footer">
      <div class="footer-container">
        <nav class="footer-nav">
          <a href="index.html"><img src="./img/pickem_logo.png" alt="Footer logo" class="footer-logo" /></a>
          <a href="picks.html" class="footer-link">This Week's Picks</a>
          <a href="leaderboard.html" class="footer-link">PL Leaderboard</a>
          <a href="survivor.html" class="footer-link">Survivor Series</a>
          <a href="weeklyreports.html" class="footer-link">The Weekly Reports</a>
        </nav>
        <p class="copyright">Â© JW's Pick'em League 2024</p>
      </div>
    </footer>
  </section>


  <!-- Hamburger toggle -->
  
  <script>
    function toggleMenu() {
  var menuContent = document.getElementById("menu-content");
  menuContent.classList.toggle("menu-open");
  }
  </script>

<!-- Sends user inputs to Apps Script for Google Sheets -->
 
<script>
  document.getElementById('myForm').addEventListener('submit', function (event) {
    event.preventDefault();

    var form = document.getElementById('myForm');
    var formData = new FormData(form);

    var formObject = {};
    formData.forEach(function (value, key) {
      formObject[key] = value;
    });

    fetch('https://script.google.com/macros/s/AKfycbw4IWGEtufqQdUIxvH_2_w-Mxn-Y9SmxFwllZCx5CCweri6qIRm67AGBWGykUyzwZE/exec', {
      method: 'post',
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded',
      },
      body: new URLSearchParams(formObject)
    })
    .then(response => {
      if (!response.ok) {
        throw new Error('Network response was not ok.');
      }
      return response.text();
    })
    .then(data => {
      alert('Game selections were successful. ' + data);
    })
    .catch(error => {
      console.error('Error:', error);
    });
  });
</script>

<!-- Toggle/Dropdown sync -->

<script>
  // Create a function to synchronize toggle and dropdown
  function syncToggleAndDropdown(toggleId, dropdownId, teamValue) {
    const toggleElement = document.getElementById(toggleId);
    const dropdownElement = document.getElementById(dropdownId);

    // When the toggle is changed
    toggleElement.addEventListener('change', function() {
      if (this.checked) {
        // Set dropdown value to the team when checked
        dropdownElement.value = teamValue;
      } else {
        // Reset dropdown if unchecked
        dropdownElement.value = "";
      }
    });

    // When the dropdown is changed
    dropdownElement.addEventListener('change', function() {
      if (this.value === teamValue) {
        // Check the toggle if the selected value matches the team
        toggleElement.checked = true;
      } else {
        // Uncheck the toggle if a different value is selected
        toggleElement.checked = false;
      }
    });
  }

  // Synchronize the first pair (AzC)
  syncToggleAndDropdown("toggle-azc", "dropdown-azc", "AzC(db)");

  // Synchronize the second pair (NYG)
  syncToggleAndDropdown("toggle-nyg", "dropdown-nyg", "NYG(db)");

  // Add more pairs as necessary using the same pattern
</script>

<!-- Track User Inputs with Cookies, Multiple Sessions -->

<script>
  // List of valid names
  const validNames = [
      "Adam Kenny", "Alan Silk", "Andrew Donachuk", "Brad De Ryck", 
      "Brett Steidl", "Chris Stenberg", "Colin Larsen", "Colm Bolger", 
      "Conor O'Brien", "Corey McKay", "Darren Barabash", "Daryl Krywonis", 
      "Donald Van Landeghem", "Doug Roberts", "Drew Riddolls", "Eric Matthies", 
      "Fran Fitzpatrick", "Gavin Steidl", "Ian Silk", "Jake Giesbrecht", 
      "John Harper", "John Wyndels", "Kong Vong", "Matt Wyndels", 
      "Makaila Hardy", "Nisha Krywonis", "Noel Leon", "Paul McGuire", 
      "Ray Riddolls", "Rick Halas", "Roudy Courser", "Sean Kimmel", 
      "Shaun Foley"
  ];
  
// Helper functions for cookies
function setCookie(name, value, days) {
    let expires = "";
    if (days) {
        const date = new Date();
        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
        expires = "; expires=" + date.toUTCString();
    }
    document.cookie = name + "=" + encodeURIComponent(value) + expires + "; path=/";
}

function getCookie(name) {
    let cookies = document.cookie.split('; ');
    for (let cookie of cookies) {
        let [key, value] = cookie.split('=');
        if (key === name) return decodeURIComponent(value);
    }
    return null;
}

// Helper functions for cookies
function setCookie(name, value) {
    // Get the current date and time
    const now = new Date();
    
    // Find the next Tuesday
    const nextTuesday = new Date();
    nextTuesday.setDate(now.getDate() + ((9 - now.getDay()) % 7));  // Calculate the next Tuesday
    
    // Set the time to 8 AM on that Tuesday
    nextTuesday.setHours(8, 0, 0, 0);  // 8:00 AM on the next Tuesday

    // Set the expiration time for the cookie
    const expires = "; expires=" + nextTuesday.toUTCString();
    
    // Set the cookie with the calculated expiration time
    document.cookie = name + "=" + encodeURIComponent(value) + expires + "; path=/";
}

// Function to delete all cookies for valid names
function deleteAllCookies() {
    for (const name of validNames) {
        const cookieName = name + '_selections';
        document.cookie = cookieName + '=; Max-Age=-99999999; path=/';  
    }
    console.log('All cookies for valid names have been deleted.');
}

// Function to check if today's day is within the deletion range
function checkCookieDeletion() {
    const today = new Date();
    const dayOfWeek = today.getDay(); // 0 = Sunday, 1 = Monday, ..., 6 = Saturday
    const hours = today.getHours(); // Get current hours (0 - 23)

    // Check if today is Tuesday (2) and it's after 8 AM (8)
    if (dayOfWeek === 2 && hours >= 8) {
        deleteAllCookies(); // Delete all cookies if within the range
    }
}

// Save selections to cookies
function saveSelections(userName, selections) {
    setCookie(userName + '_selections', JSON.stringify(selections));  // Use the updated setCookie
}


// Function to validate the name
function validateName(firstName, lastName) {
    return validNames.includes(firstName.trim() + ' ' + lastName.trim());
}

// Load user selections from cookies
function loadSelections(userName) {
    const cookieData = getCookie(userName + '_selections');
    console.log('Cookie data for', userName, ':', cookieData); // Debugging line
    return cookieData ? JSON.parse(cookieData) : {};
}

// Save selections to cookies
function saveSelections(userName, selections) {
    setCookie(userName + '_selections', JSON.stringify(selections), 7);
}

// Handle first and last name inputs together to trigger validation and loading
function handleNameInput() {
    const firstName = document.getElementById('firstName').value.trim();
    const lastName = document.getElementById('lastName').value.trim();
    
    if (firstName && lastName && validateName(firstName, lastName)) {
        const fullName = firstName + ' ' + lastName;
        console.log('Valid name entered:', fullName);  // Debugging line
        
        const previousSelections = loadSelections(fullName);
        console.log('Previous selections loaded:', previousSelections);  // Debugging line

        // Apply selections and disable the relevant fields
        document.querySelectorAll('select[data-cookie-id], input[type="checkbox"][data-cookie-id]').forEach(input => {
            const cookieId = input.getAttribute('data-cookie-id');
            if (previousSelections[cookieId]) {
                if (input.type === 'checkbox') {
                    input.checked = true;
                } else {
                    input.value = previousSelections[cookieId];
                }
                input.disabled = true;  // Disable the field
                input.parentElement.style.color = "grey";  // Optional: Grey out label for disabled inputs
            }
        });
    } else {
        console.log('Invalid name, selections not applied');  // Debugging line
    }
}

// Add event listeners for both first and last name inputs
document.getElementById('firstName').addEventListener('input', handleNameInput);
document.getElementById('lastName').addEventListener('input', handleNameInput);



// Handle form submission
document.getElementById('myForm').addEventListener('submit', function(event) {
    const firstName = document.getElementById('firstName').value.trim();
    const lastName = document.getElementById('lastName').value.trim();
    const fullName = firstName + ' ' + lastName;

    if (!validateName(firstName, lastName)) {
        alert("Invalid name. Please enter a valid name.");
        event.preventDefault();
        return;
    }

    // Collect selections to save to cookies
    const selections = {};
    document.querySelectorAll('select[data-cookie-id], input[type="checkbox"][data-cookie-id]').forEach(input => {
        const cookieId = input.getAttribute('data-cookie-id');
        if (input.type === 'checkbox') {
            if (input.checked) {
                selections[cookieId] = input.value; // Save only if checkbox is checked
            }
        } else {
            if (input.value !== '') {
                selections[cookieId] = input.value; // Save selected value for dropdowns
            }
        }
    });

    // Save the selections in cookies
    saveSelections(fullName, selections);
    
    console.log('Selections saved:', selections);

    // Allow form to submit
});

// Automatically check for cookie deletion on page load
window.onload = checkCookieDeletion;

</script>
  
  


<!-- Clears form after submit--> 

<script>
  document.getElementById('myForm').addEventListener('submit', function() {
    setTimeout(() => {
      this.reset(); // Reset the form after submission
    }, 500); // Adjust the delay as needed
  });
</script>

</body>
</html>
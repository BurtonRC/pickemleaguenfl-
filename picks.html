<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="picksTable.css">
  <link rel="stylesheet" type="text/css" href="index.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

  <title>JW's Pick'em League</title>
</head>
<body>
  
  <section class="sports-news-container">
    <header class="top-bar">
        <div class="container">
          <div class="top-bar-content">
            <a href="index.html"><img src="./img/pickem_logo.png" alt="JW's Pick'em League Logo" class="logo" /></a>
          
              <nav class="nav-links">
                <a href="picks.html" class="nav-link">This Week's Picks</a>
                <a href="leaderboard.html" class="nav-link">PL Leaderboard</a>
                <a href="survivor.html" class="nav-link">Survivor Series</a>
                <a href="weeklyreports.html" class="nav-link">The Weekly Reports</a>
              </nav>

            <!-- Hamburger Icon -->
            <div class="hamburger-menu">
              <div class="hamburger-icon" onclick="toggleMenu()">â˜°</div>

                <!-- Hidden Menu -->
                <div id="menu-content" class="menu-content">
                    <!-- Close button (X) inside the menu -->
                    <div class="close-icon" onclick="toggleMenu()">âœ–</div>

                    <a href="index.html"><img src="./img/pickem_logo.png" alt="JW's Pick'em League logo" class="logo-hamburger" /></a>

                    <!-- Navigation links inside the mobile menu -->
                    <nav class="mobile-nav-links">
                      <a href="index.html">Home</a>
                      <a href="picks.html">This Week's Picks</a>
                      <a href="leaderboard.html">PL Leaderboard</a>
                      <a href="survivor.html">Survivor Series</a>
                      <a href="weeklyreports.html">The Weekly Reports</a>
                    </nav>
                </div>
            </div>
        </div>
      </div>
    </header>
  
<div class="picksHero">
    <div class="glimage"></div>
</div>
  
    
      <div class="hdr-main">
        <p style="font-size: 1em; font-weight: bold; color: #b1945a; margin: 5px 0;">Week 07</p>
        <h1 class="guide">Quick Guide Weekly Selections</h1>
      </div>

      <div class="box" style="border-top: 10px solid #b1945a;">
        <br>
        <p>Scheduled games by week are listed below, input your choices for each new week:</p>
        <ol>
            <li><strong>NAME</strong><br>
                 Please enter First and Last names, correctly spelled please. 
            </li>
            <li><strong>DRIVE-BYS</strong><br>
                 Click toggle buttons (minimum one db per week).</li>
            <li><strong>DISRUPTOR PS & GAME WINNERS</strong><br>
                 Click the drop downs and select wisely.
            </li>
            <!--<li><strong>SURVIVOR</strong> Still hanging in there?<br>
                 Click the last drop down on the table.
            </li>-->
        </ol>
        
        <p><strong>GROUP EMAIL</strong><br>Once you submit your picks an email confirmation is sent to the group listing your selections and comments/tom-foolery.</p>
        <br>
      </div>
    
     <br>   

   <div class="box">
    <div class="weekTable">    
      <form id="myForm" method="post" action="https://script.google.com/macros/s/AKfycbxe40OIl13V0qXFqakJg7eWKkrcQA25r8xOUOtHCH0MS4-Jzffgs0gneO8z7yiJwqQ/exec">
            <div>
            <table>
                <tbody>
                  <tr>
                      <td>
                        <label for="firstName">First Name:</label>
                        <input type="text" id="firstName" name="firstName" required>
                      </td>
                      <td>
                        <label for="lastName">Last Name:</label>
                        <input type="text" id="lastName" name="lastName" required>
                      </td>
                  </tr>
                </tbody>    
              </table>
            </div>
            
            <div>
              <table>                 
                    <thead>
                        <tr>
                        <th scope="col">Week 07</th>
                        <th scope="col">Day</th>
                        <th scope="col">DB</th>
                        <th scope="col">PS</th>
                        <th scope="col">Select</th>
                        </tr>
                    </thead>
                        <tbody>

                          <tr>
                            <td>Denver Broncos @ New Orleans Saints</td>
                            <td><strong>Thur</strong></td>
                            <td></td>
                            <td></td>
                            <td>
                                <select class="team-select" data-cookie-id="game1" name="Games_1">
                                    <option value="">--Select Team--</option>
                                    <option value="Denver">Denver Broncos</option>
                                    <option value="New Orleans">New Orleans Saints</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td style="line-height: 1.5;"><strong>New Eng Patriots(db)</strong> @ Jacks Jags
                              <br><strong>London / 8:30 (CST) kickoff</strong>
                            </td>
                            <td>Sun</td>
                            <td>
                              <span>NeP(db)</span>  <br><br>
                              <div class="slide-box">
                                <label class="switch">
                                <!-- Make sure to change and align DriveBy no. so it enters in the right game section -->
                                <input type="checkbox" id="toggle-nep" name="DriveBy_2" value="NeP(db)" data-cookie-id="toggle-nep"/><div></div></label>
                              </div>
                            </td>
                            <td></td>
                            <td>
                                <select class="team-select" id="dropdown-nep" data-cookie-id="game2" name="Games_2">
                                    <option value="">--Select Team--</option>
                                    <option value="NeP(db)">New Eng Patriots(db)</option>
                                    <option value="Jacksonville">Jacksonville Jags</option>
                                </select>
                            </td>  
                          </tr>

                          <tr>
                            <td >Seattle Seahawks @ Atlanta Falcons</td>
                            <td>Sun</td>
                            <td></td>                           
                            <td></td>
                            <td>
                                <select class="team-select" data-cookie-id="game3" name="Games_3">
                                    <option value="">--Select Team--</option>
                                    <option value="Seattle">Seattle Seahawks</option>
                                    <option value="Atlanta">Atlanta Falcons</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td><strong>Tennessee Titans(db)</strong> @ Buffalo Bills</td>
                            <td>Sun</td>
                            <td>
                              <span>TnT(db)</span>  <br><br>
                              <div class="slide-box">
                                <label class="switch">
                                <input type="checkbox" id="toggle-tnt" name="DriveBy_4" value="TnT(db)" data-cookie-id="toggle-tnt"/><div></div></label>
                              </div>
                            </td>                           
                            <td></td>
                            <td>
                                <select class="team-select" id="dropdown-tnt" data-cookie-id="game4" name="Games_4">
                                    <option value="">--Select Team--</option>
                                    <option value="TnT(db)">Tennessee Titans(db)</option>
                                    <option value="Buffalo">Buffalo Bills</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td>Cinci Bengals @ <strong>Cleveland Browns(db)</strong></td>
                            <td>Sun</td>
                            <td>
                              <span>CvB(db)</span>  <br><br>
                              <div class="slide-box">
                                <label class="switch">
                                <input type="checkbox" id="toggle-cvb" name="DriveBy_5" value="CvB(db)" data-cookie-id="toggle-cvb"/><div></div></label>
                              </div>
                            </td>                            
                            <td></td>
                            <td>
                                <select class="team-select" id="dropdown-cvb" data-cookie-id="game5" name="Games_5">
                                    <option value="">--Select Team--</option>
                                    <option value="Cincinnati">Cincinnati Bengals</option>
                                    <option value="CvB(db)">Cleveland Browns(db)</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td>Houston Texans @ Green Bay Packers</td>
                            <td>Sun</td>                              
                            <td></td>
                            <td></td>
                            <td>
                                <select class="team-select" data-cookie-id="game6" name="Games_6">
                                    <option value="">--Select Team--</option>
                                    <option value="Houston">Houston Texans</option>
                                    <option value="Green Bay">Green Bay Packers</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td>Miami Dolphins @ Indianapolis Colts</td>
                            <td>Sun</td>                            
                            <td></td>
                            <td></td>
                            <td>
                                <select class="team-select" data-cookie-id="game7" name="Games_7">
                                    <option value="">--Select Team--</option>
                                    <option value="Miami">Miami Dolphins</option>
                                    <option value="Indianapolis">Indianapolis Colts</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td>Detroit Lions @ Minnesota Vikings</td>
                            <td>Sun</td>    
                            <td></td>
                            <td></td>
                            <td>
                                <select class="team-select" data-cookie-id="game8" name="Games_8">
                                    <option value="">--Select Team--</option>
                                    <option value="Detroit">Detroit Lions</option>
                                    <option value="Minnesota">Minnesota Vikings</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td>Philadelphia Eagles @ New York Giants</td>
                            <td>Sun</td>                            
                            <td></td>
                            <td></td>
                            <td>
                                <select class="team-select" data-cookie-id="game9" name="Games_9">
                                    <option value="">--Select Team--</option>
                                    <option value="Philadelphia">Philadelphia Eagles</option>
                                    <option value="NY Giants">New York Giants</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td><strong>Las Vegas Raiders(db)</strong> @ Los Angeles Rams</td>
                            <td>Sun</td>                            
                            <td>
                              <span>LvR(db)</span>  <br><br>
                              <div class="slide-box">
                                <label class="switch">
                                <input type="checkbox" id="toggle-lvr" name="DriveBy_10" value="LvR(db)" data-cookie-id="toggle-lvr"/><div></div></label>
                              </div>
                            </td>
                            <td></td>
                            <td>
                                <select class="team-select" id="dropdown-lvr" data-cookie-id="game10" name="Games_10">
                                    <option value="">--Select Team--</option>
                                    <option value="LvR(db)">Las Vegas Raiders(db)</option>
                                    <option value="LA Rams">Los Angeles Rams</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td><strong>Carolina Panthers(db)</strong> @ Wash Commanders</td>
                            <td>Sun</td>
                            <td>
                              <span>CaP(db)</span>  <br><br>
                              <div class="slide-box">
                                <label class="switch">
                                <input type="checkbox" id="toggle-cap" name="DriveBy_11" value="CaP(db)" data-cookie-id="toggle-cap"/><div></div></label>
                              </div>
                            </td>
                            <td></td>
                            <td>
                                <select class="team-select" id="dropdown-cap" data-cookie-id="game11" name="Games_11">
                                    <option value="">--Select Team--</option>
                                    <option value="CaP(db)">Carolina Panthers(db)</option>
                                    <option value="Washington">Wash Commanders</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td style="line-height: 1.5;">Kansas City Chiefs @ San Fran 49ers
                              <br><strong>Disruptor (PS) GOTWk (KC +1.5)</strong>
                            </td>
                            <td>Sun</td>                                                                              
                            <td></td>
                            <td>
                              <label for="KcCPs">KcC +1.5
                              <!-- Make sure to change and align pointSpread no. so it enters in the right game section -->
                              <select class="team-select" id="KcCPs" data-cookie-id="pointspread12" name="PointSpread_12">
                                  <option value="">--Select Cover--</option>
                                  <option value="KC Covers">KC covers +1.5</option>
                                  <option value="San Fran Covers">San Fran covers -1.5</option>
                              </select>
                              </label>
                          </td>
                            <td>
                                <select class="team-select" name="Games_12" data-cookie-id="game12">
                                    <option value="">--Select Team--</option>
                                    <option value="Kansas City">Kansas City Chiefs</option>
                                    <option value="San Fran">San Fran 49ers</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td>New York Jets @ Pittsburgh Steelers</td>
                            <td>Sun</td>                           
                            <td></td>
                            <td></td>
                            <td>
                                <select class="team-select" data-cookie-id="game13" name="Games_13">
                                    <option value="">--Select Team--</option>
                                    <option value="NY Jets">New York Jets</option>
                                    <option value="Pittsburgh">Pittsburgh Steelers</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td>Baltimore Ravens @ TB Buccaneers</td>
                            <td><strong>Mon</strong></td>
                            <td></td>                            
                            <td></td>
                            <td>
                                <select class="team-select" data-cookie-id="game14" name="Games_14">
                                    <option value="">--Select Team--</option>
                                    <option value="Baltimore">Baltimore Ravens</option>
                                    <option value="Tampa Bay">Tampa Bay Bucs</option>
                                </select>
                            </td>
                          </tr>

                          <tr>
                            <td>LA Chargers @ Arizona Cardinals</td>
                            <td><strong>Mon</strong></td>
                            <td></td>                           
                            <td></td>
                            <td>
                                <select class="team-select" data-cookie-id="game15" name="Games_15">
                                    <option value="">--Select Team--</option>
                                    <option value="LA Chargers">LA Chargers</option>
                                    <option value="Arizona">Arizona Cardinals</option>
                                </select>
                            </td>
                          </tr>

                          <!--<tr>
                            <td>Seattle Seahawks @ Detroit Lions</td>
                            <td>Mon</td>
                            <td></td>                            
                            <td></td>
                            <td>
                                <select class="team-select" data-cookie-id="game16" name="Games_16">
                                    <option value="">--Select Team--</option>
                                    <option value="Seattle">Seattle Seahawks</option>
                                    <option value="Detroit">Detroit Lions</option>
                                </select>
                            </td>
                          </tr>-->

                          <tr style="display: none;">
                            <td>Survivor Selection:</td>
                            <td colspan="2"></td>
                            <td>Allan & Mikaila ðŸ˜Ž</td>
                            <td colspan="1">
                                <select class="team-select" id="survivor" name="Survivor">
                                    <option value="">--Select Team--</option>
                                    <option value="Arizona">Arizona Cardinals</option>
                                    <option value="Atlanta">Atlanta Falcons</option>
                                    <option value="Baltimore">Baltimore Ravens</option>
                                    <option value="Buffalo">Buffalo Bills</option>
                                    <option value="Carolina">Carolina Panthers</option>
                                    <option value="Chicago">Chicago Bears</option>
                                    <option value="Cincinnati">Cincinnati Bengals</option>
                                    <option value="Cleveland">Cleveland Browns</option>
                                    <option value="Dallas">Dallas Cowboys</option>
                                    <option value="Denver">Denver Broncos</option>
                                    <option value="Detroit">Detroit Lions</option>
                                    <option value="Green Bay">Green Bay Packers</option>
                                    <option value="Houston">Houston Texans</option>
                                    <option value="Indianapolis">Indianapolis Colts</option>
                                    <option value="Jacksonville">Jacksonville Jaguars</option>
                                    <option value="KansasCity">Kansas City Chiefs</option>
                                    <option value="Las Vegas">Las Vegas Raiders</option>
                                    <option value="LA Chargers">Los Angeles Chargers</option>
                                    <option value="LA Rams">Los Angeles Rams</option>
                                    <option value="Miami">Miami Dolphins</option>
                                    <option value="Minnesota">Minnesota Vikings</option>
                                    <option value="New England">New England Patriots</option>
                                    <option value="New Orleans">New Orleans Saints</option>
                                    <option value="NY Giants">New York Giants</option>
                                    <option value="NY Jets">New York Jets</option>
                                    <option value="Philadelphia">Philadelphia Eagles</option>
                                    <option value="Pittsburgh">Pittsburgh Steelers</option>
                                    <option value="San Francisco">San Francisco 49ers</option>
                                    <option value="Seattle">Seattle Seahawks</option>
                                    <option value="Tampa Bay">Tampa Bay Buccaneers</option>
                                    <option value="Tennessee">Tennessee Titans</option>
                                    <option value="Washington">Washington Commanders</option>
                                </select>                            
                          </tr>

                          <tr>
                              <td><label for="comments">Insight and Tom-Foolery:</label></td>
                              <td colspan="4">
                                  <textarea id="comments" name="comments" rows="5" cols="90" placeholder="And begin..."></textarea>
                              </td>
                              
                          </tr>

                          <tr>
                              <td colspan="2"></td>
                              <td>
                                  <input class="submitButton" type="submit" value="submit" />
                              </td>
                              <td colspan="2"></td>
                          </tr>

                        </tbody>                    
              </table>
            </div>
        </form>
    </div>
  </div>
  <br>
<section class="news-grid">
      <div class="container">
      <div class="news-row">
        <article class="news-item">
          <div class="news-content">
            <img src="./img/news22.jpg" alt="Davante Adams 'happy' to be on Jets after trade from Raiders" class="news-image" />
            <div class="news-tag">News</div>
            <time datetime="2024-10-16" class="feature-date">Oct 16, 2024</time>
            <h3 class="news-title">Davante Adams 'happy' to be on Jets after trade from Raiders</h3>
            <p class="news-summary">Adams isn't waiting long to get back out there, either, telling reporters Wednesday he'll definitely "be able to roll" in Week 7 for the Jets after missing his final three games with the Raiders nursing a hamstring injury.
              <br><br>
              "It's been a roller coaster, for sure. It's a weird thing to say that I'm happy, but obviously it was time for a change," Adams said. "This whole thing transpired a little weird, but at the end of the day, we're in a better place. I think that the  Raiders are in a better place, as well. Everybody can kinda move on."</p>
          </div>
        </article>
        <article class="news-item">
          <div class="news-content">
            <img src="./img/news23.jpg" alt="NFL approves Tom Brady's bid to become ltd partner of LV Raiders" class="news-image" />
            <div class="news-tag">News</div>
            <time datetime="2024-10-15" class="feature-date">Oct 15, 2024</time>
            <h3 class="news-title">NFL approves Tom Brady's bid to become ltd partner of LV Raiders</h3>
            <p class="news-summary">Seven-time Super Bowl champion quarterback Tom Brady has been approved by NFL ownership as a limited partner of the Las Vegas Raiders, NFL Network Insider Ian Rapoport reported on Tuesday.
              <br><br>
              Brady and his partner now hold 10% in the Raiders with Brady personally holding a 5% stake.
              <br><br>
              "It's great that Tom Brady wants to invest in the NFL," NFL Commissioner Roger Goodell said Tuesday at the Fall League Meeting in Atlanta. "He cares deeply about this game. He believes in its future, and I think that's just a signal of that."</p>
          </div>
        </article>
        <article class="news-item">
          <div class="news-content">
            <img src="./img/news24.jpg" alt="Dolphins HC says he expects Tua to play again in 2024 season" class="news-image" />
            <div class="news-tag">News</div>
            <time datetime="2024-10-14" class="feature-date">Oct 14, 2024</time>
            <h3 class="news-title">Dolphins HC says he expects Tua to play again in 2024 season</h3>
            <p class="news-summary">Quarterback Tua Tagovailoa, who currently is on injured reserve after suffering a concussion in Week 2, is expected to resume playing in 2024, head coach Mike McDaniel told reporters on Monday. This marked the first time since Tagovailoa's concussion that McDaniel suggested he could return to the field this season."</p>
          </div>
        </article>
      </div>
      </div>
    </section> 
  
    <footer class="footer">
      <div class="footer-container">
        <nav class="footer-nav">
          <a href="index.html"><img src="./img/pickem_logo.png" alt="Footer logo" class="footer-logo" /></a>
          <a href="picks.html" class="footer-link">This Week's Picks</a>
          <a href="leaderboard.html" class="footer-link">PL Leaderboard</a>
          <a href="survivor.html" class="footer-link">Survivor Series</a>
          <a href="weeklyreports.html" class="footer-link">The Weekly Reports</a>
        </nav>
        <p class="copyright">Â© JW's Pick'em League 2024</p>
      </div>
    </footer>
  </section>


  <!-- Hamburger toggle -->
  
  <script>
    function toggleMenu() {
  var menuContent = document.getElementById("menu-content");
  menuContent.classList.toggle("menu-open");
  }
  </script>

<!-- Sends user inputs to Apps Script for Google Sheets -->
 
<script>
  document.getElementById('myForm').addEventListener('submit', function (event) {
    event.preventDefault();

    var form = document.getElementById('myForm');
    var formData = new FormData(form);

    var formObject = {};
    formData.forEach(function (value, key) {
      formObject[key] = value;
    });

    fetch('https://script.google.com/macros/s/AKfycbxe40OIl13V0qXFqakJg7eWKkrcQA25r8xOUOtHCH0MS4-Jzffgs0gneO8z7yiJwqQ/exec', {
      method: 'post',
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded',
      },
      body: new URLSearchParams(formObject)
    })
    .then(response => {
      if (!response.ok) {
        throw new Error('Network response was not ok.');
      }
      return response.text();
    })
    .then(data => {
      alert('Game selections were successful. ' + data);
    })
    .catch(error => {
      console.error('Error:', error);
    });
  });
</script>


<script>
// Select all dropdowns with the class 'team-select'
document.querySelectorAll('.team-select').forEach(select => {
    select.addEventListener('change', function() {
        if (this.value === "") {
            // No team selected, remove background color
            this.style.backgroundColor = "";  // Reset to default
        } else {
            // Team selected, apply background color
            this.style.backgroundColor = "#aee516";  // Light green color for selection
        }
    });
});
</script>


<!-- Toggle/Dropdown sync -->

<script>
// Create a function to synchronize toggle and dropdown
function syncToggleAndDropdown(toggleId, dropdownId, teamValue) {
    const toggleElement = document.getElementById(toggleId);
    const dropdownElement = document.getElementById(dropdownId);

    // Helper function to update the dropdown background
    function updateDropdownBackground() {
        if (dropdownElement.value === "") {
            dropdownElement.style.backgroundColor = "";  // Reset to default
        } else {
            dropdownElement.style.backgroundColor = "#aee516";  // Light green for selected team
        }
    }

    // When the toggle is changed
    toggleElement.addEventListener('change', function() {
      if (this.checked) {
        // Set dropdown value to the team when checked
        dropdownElement.value = teamValue;
      } else {
        // Reset dropdown if unchecked
        dropdownElement.value = "";
      }
      updateDropdownBackground();  // Update the background color
    });

    // When the dropdown is changed
    dropdownElement.addEventListener('change', function() {
      if (this.value === teamValue) {
        // Check the toggle if the selected value matches the team
        toggleElement.checked = true;
      } else {
        // Uncheck the toggle if a different value is selected
        toggleElement.checked = false;
      }
      updateDropdownBackground();  // Update the background color
    });

    // Initial background color update based on existing value
    updateDropdownBackground();
}

// Synchronize the third pair (NEP)
syncToggleAndDropdown("toggle-nep", "dropdown-nep", "NeP(db)");

// Synchronize the first pair (TnT)
syncToggleAndDropdown("toggle-tnt", "dropdown-tnt", "TnT(db)");

// Synchronize the fourth pair (CvB)
syncToggleAndDropdown("toggle-cvb", "dropdown-cvb", "CvB(db)");

// Synchronize the second pair (AzC)
syncToggleAndDropdown("toggle-lvr", "dropdown-lvr", "LvR(db)");

// Synchronize the fifth pair (CaP)
syncToggleAndDropdown("toggle-cap", "dropdown-cap", "CaP(db)");

// Add more pairs as necessary using the same pattern

</script>



<!-- Track User Inputs with Cookies, Multiple Sessions -->

<script>
  // List of valid names
  const validNames = [
      "Adam Kenny", "Alan Silk", "Andrew Donachuk", "Brad De Ryck", 
      "Brett Steidl", "Chris Stenberg", "Colin Larsen", "Colm Bolger", 
      "Conor O'Brien", "Corey McKay", "Darren Barabash", "Daryl Krywonis", 
      "Donald Van Landeghem", "Doug Roberts", "Drew Riddolls", "Eric Matthies", 
      "Fran Fitzpatrick", "Gavin Steidl", "Ian Silk", "Jake Giesbrecht", 
      "John Harper", "John Wyndels", "Nico Vong", "Matt Wyndels", 
      "Makaila Hardy", "Nisha Krywonis", "Noel Leon", "Paul McGuire", 
      "Ray Riddolls", "Rick Halas", "Roudy Courser", "Sean Kimmel", 
      "Shaun Foley"
  ];
  
  // Helper functions for cookies
  function setCookie(name, value, days) {
      let expires = "";
      if (days) {
          const date = new Date();
          date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
          expires = "; expires=" + date.toUTCString();
      }
      document.cookie = name + "=" + encodeURIComponent(value) + expires + "; path=/";
  }
  
  function getCookie(name) {
      let cookies = document.cookie.split('; ');
      for (let cookie of cookies) {
          let [key, value] = cookie.split('=');
          if (key === name) return decodeURIComponent(value);
      }
      return null;
  }
  
  // Function to validate the name (case-insensitive)
  function validateName(firstName, lastName) {
      const fullNameInput = (firstName.trim() + ' ' + lastName.trim()).toLowerCase();
      return validNames.some(validName => validName.toLowerCase() === fullNameInput);
}

  
  // Function to load previous selections from cookies (case-insensitive)
function loadSelections(userName) {
    const normalizedUserName = userName.toLowerCase();
    const cookieData = getCookie(normalizedUserName + '_selections');
    console.log('Cookie data for', normalizedUserName, ':', cookieData); // Debugging line
    return cookieData ? JSON.parse(cookieData) : {};
}
  
  // Function to apply the selections from cookies (case-insensitive)
function applySelections(fullName) {
    const normalizedFullName = fullName.toLowerCase();
    const previousSelections = loadSelections(normalizedFullName);
    console.log('Previous selections loaded for', normalizedFullName, ':', previousSelections);  // Debugging line
  
    // Apply selections and disable the relevant fields
    document.querySelectorAll('select[data-cookie-id], input[type="checkbox"][data-cookie-id]').forEach(input => {
        const cookieId = input.getAttribute('data-cookie-id');
        if (previousSelections[cookieId]) {
            if (input.type === 'checkbox') {
                input.checked = true;
            } else {
                input.value = previousSelections[cookieId];
            }
            input.disabled = true;  // Disable the field

            // Set background color for disabled dropdowns
            if (input.tagName.toLowerCase() === 'select') {
                input.style.backgroundColor = "#d1e7dd";  // Light green background for disabled dropdowns
            }

            input.parentElement.style.color = "grey";  // Optional: Grey out label for disabled inputs
         }
      });
  }
  
  // Handle first and last name inputs together to trigger validation and loading
  function handleNameInput() {
      const firstName = document.getElementById('firstName').value.trim();
      const lastName = document.getElementById('lastName').value.trim();
      
      if (firstName && lastName && validateName(firstName, lastName)) {
          const fullName = firstName + ' ' + lastName;
          console.log('Valid name entered:', fullName);  // Debugging line
          applySelections(fullName);
      } else {
          console.log('Invalid name, selections not applied');  // Debugging line
      }
  }
  
  // Add event listeners for both first and last name inputs
  document.getElementById('firstName').addEventListener('input', handleNameInput);
  document.getElementById('lastName').addEventListener('input', handleNameInput);
  
  // Handle form submission (case-insensitive cookie storage)
  document.getElementById('myForm').addEventListener('submit', function(event) {
      const firstName = document.getElementById('firstName').value.trim();
      const lastName = document.getElementById('lastName').value.trim();
      const fullName = firstName + ' ' + lastName;
      const normalizedFullName = fullName.toLowerCase();  // Normalize name to lowercase
  
      // **Addition for name validation on submission**
      if (!validateName(firstName, lastName)) {
          // Display system-like error message if name is invalid
          const firstNameInput = document.getElementById('firstName');  // Referencing the input element
          firstNameInput.setCustomValidity("Invalid name. Please enter a valid name from the list.");
          firstNameInput.reportValidity();  // Triggers the error message
          event.preventDefault();  // Prevent form submission
          return;
      }
  
      // Clear any custom error if name is valid
      document.getElementById('firstName').setCustomValidity("");
  
      // Collect selections to save to cookies
      const selections = {};
      document.querySelectorAll('select[data-cookie-id], input[type="checkbox"][data-cookie-id]').forEach(input => {
          const cookieId = input.getAttribute('data-cookie-id');
          if (input.type === 'checkbox') {
              if (input.checked) {
                  selections[cookieId] = input.value;
              }
          } else {
              if (input.value !== '') {
                  selections[cookieId] = input.value;
              }
          }
      });
  
      // Save the selections in cookies using the normalized name
      setCookie(normalizedFullName + '_selections', JSON.stringify(selections), 7);
      console.log('Selections saved for', normalizedFullName, ':', selections);
      
      // Allow form to submit
  });
  
// Automatically check for cookie deletion on page load
function checkCookieDeletion() {
    const today = new Date();
    const dayOfWeek = today.getUTCDay();  // 0 = Sunday, 1 = Monday, ..., 6 = Saturday
    const hours = today.getUTCHours();    // Get current hours in UTC (0 - 23)

    // Check if today is Tuesday at or after 7 AM UTC, or any day after Tuesday
    if ((dayOfWeek === 2 && hours >= 7) || dayOfWeek > 2) {
        deleteAllCookies();  // Delete cookies if it's after 7 AM on Tuesday or any time after Tuesday
    }
}

// Function to delete all cookies for valid names
function deleteAllCookies() {
    for (const name of validNames) {
        const cookieName = name + '_selections';
        document.cookie = cookieName + '=; Max-Age=-99999999; path=/;';  // Invalidate the cookie
    }
    console.log('All cookies for valid names have been deleted.');
}

// Call checkCookieDeletion on page load
window.onload = checkCookieDeletion;
  
  </script>


<!-- Clears form after submit--> 

<script>
// Clears form after submit and resets dropdown background colors
document.getElementById('myForm').addEventListener('submit', function() {
    setTimeout(() => {
      this.reset();  // Reset the form after submission

      // Reset the background colors of all dropdowns
      document.querySelectorAll('.team-select').forEach(select => {
          select.style.backgroundColor = "";  // Reset background to default
      });

    }, 500);  // Adjust the delay as needed
});
</script>

</body>
</html>
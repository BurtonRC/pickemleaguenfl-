<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">  
  <link rel="stylesheet" type="text/css" href="index.css">
  <link rel="stylesheet" type="text/css" href="comments.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link rel="icon" href="/favicon.ico?v=1" type="image/x-icon">

  
  <title>JW's Pick'em League</title>
</head>
<body>
  
  <section class="sports-news-container">
    <header class="top-bar">
        <div class="container">
          <div class="top-bar-content">
            <a href="index.html"><img src="./img/pickem_logo.png" alt="JW's Pick'em League Logo" class="logo" /></a>
          
              <nav class="nav-links">
                <a href="picks.html" class="nav-link">This Week's Picks</a>
                <a href="leaderboard.html" class="nav-link">PL Leaderboard</a>
                <a href="survivor.html" class="nav-link">Survivor Series</a>
                <a href="weeklyreports.html" class="nav-link">WR Archive</a>
                <!--<form class="search-box" role="search">
                  <label for="search-input" class="visually-hidden">Search</label>
                  <input type="search" id="search-input" placeholder="Search" class="search-placeholder" />
                  <button type="submit" class="search-icon" aria-label="Submit search">
                    <i class="fas fa-search"></i>  Font Awesome magnifying glass icon
                  </button>
                </form>-->
              </nav>

              <!-- Hamburger Icon -->
              <div class="hamburger-menu">
                <div class="hamburger-icon" onclick="toggleMenu()">☰</div>

                <!-- Hidden Menu -->
                <div id="menu-content" class="menu-content">
                    <!-- Close button (X) inside the menu -->
                    <div class="close-icon" onclick="toggleMenu()">✖</div>

                    <a href="index.html"><img src="./img/pickem_logo.png" alt="JW's Pick'em League logo" class="logo-hamburger" /></a>

                    <!-- Navigation links inside the mobile menu -->
                    <nav class="mobile-nav-links">
                      <a href="index.html">Home</a>
                      <a href="picks.html">This Week's Picks</a>
                      <a href="leaderboard.html">PL Leaderboard</a>
                      <a href="survivor.html">Survivor Series</a>
                      <a href="weeklyreports.html">WR Archive</a>
                    </nav>

                    <!-- Mobile search box 
                    <div class="mobile-search-box">
                      <form action="/search" method="get">
                        <input type="text" placeholder="Search..." name="q" class="search-input">
                        <button type="submit">Search</button>
                      </form>
                    </div> -->
                </div>
            </div>
        </div>
      </div>
    </header>
  
    <nav class="sub-nav">
      <div class="sub-nav-content">
        <div class="greetings">Greetings One and All</div>
        <ul class="sub-nav-links">
      <!--<li><a href="#">Weekly Reports</a></li>
          <li><a href="#">Game Results</a></li>
          <li><a href="#">League Tables</a></li>-->
        </ul>
      </div>
    </nav>
  
    
      
    <div class="featured-grid">
      <div class="main-feature">
        <img src="./img/hero-wk18.jpg" alt="Featured sports event" class="main-feature-img" />
      </div>
      <aside style="display: none;" class="side-features">
        <div class="side-features-content">
          <article class="feature-item">
            <time datetime="2024-11-5" class="feature-date">Nov 5, 2024</time>
            <h2 class="feature-title">Panthers and Giants in Munich. Wunderbar!</h2>
          </article>
          <article class="feature-item highlight-feature">
            <!--<time datetime="2024-09-21" class="feature-date">Sep 21, 2024</time>-->
            <time class="feature-date">JW's Pickem League Tidbit</time>
            <h2 class="feature-title">Noel, Adam & Brad got badges for 1st to comment. Achievement page coming. </h2>
          </article>
          <article class="feature-item">
            <time datetime="2024-10-30" class="feature-date">Oct 30, 2024</time>
            <h2 class="feature-title">Full WR listed below. Show the commish some love or pshaw in the comments.</h2>
          </article>
        </div>
      </aside>
    </div>
    
      
    
    
    <section class="team-logos" style="display: none;">
      
        <div class="logo-grid">
          <img src="./img/teams/Chiefs.jpg" alt="Team logo 1" class="team-logo" />
          <img src="./img/teams/Lions.jpg" alt="Team logo 2" class="team-logo" />
          <img src="./img/teams/Ravens.jpg" alt="Team logo 3" class="team-logo" />
          <img src="./img/teams/SanFran.jpg" alt="Team logo 4" class="team-logo" />
          <img src="./img/teams/Bills.jpg" alt="Team logo 5" class="team-logo" />
          <img src="./img/teams/Bucs.jpg" alt="Team logo 6" class="team-logo" />
        </div>
      
    </section>
  <div class="header-content">
    <header class="pl-header">
      <div class="pl-accent"></div>
      <h3 class="pl-title">The Wednesday Report</h3>
    </header>
  </div>
    
   <!--Nav links below Wednesday Report header--> 
  <nav class="category-nav" style="display: none;"> 
    <a href="#" class="category-nav-item">All Posts</a>
        <a href="#" class="category-nav-item">News</a>
        <a href="#" class="category-nav-item">AFC Teams</a>
        <a href="#" class="category-nav-item">NFC Teams</a>
        <a href="#" class="category-nav-item">Playoffs</a>
      </nav> 
    
      <div class="wkly-container">
        <div class="container">
        <div class="image-text-wrapper">
          <!-- Image on the left -->
          <div class="image-container">
            <img src="./img/pickem_logo_wks.png" alt="Pickem Logo" />
            <p>Read &<br>Comment<br>Below</p>
          </div>
      
          <!-- Text on the right -->
          <div class="text-container">
            
            <p style="font-size: 18px; font-weight: bold;">Welcome to the Wednesday Report <span style="font-weight: 400; font-size: 15px;">(tap and scroll text)</span></p>
            <p>
              A biased, highly opinionated compendium of thoughts and insights on the NFL.
              <br><br>
              I'm going to keep this short, as has been my habit these past several weeks.
              <br><br>
              The playoff teams are pretty much set. Denver wins against KC and they claim the seventh seed in the AFC. The Super Bowl Champion chiefs are getting 10.5 points. That's all you need to know. They're suiting up their entire practice squad and starting Carson Wents, Kansas City has no interest in winning the game. A loss keeps Cincinnati out of the playoffs. Having a weaker team in a field of seven makes their road to the Super Bowl a little bit less perilous. 
              <br><br>              
              In the NFC, we know the teams. We just don't know who goes where. Yes, Tampa will beat New Orleans and claim the NFC South. They could end up third or fourth seed depending on the outcome of the Seattle / LA Rams game. 
              <br><br>             
              The big game is Minnesota (14-2) at Detroit (14-2). The winner claims the NFC Central, the number one seed in the NFC and a first-round bye. The loser, despite a 14-3 record, falls to the fifth seed. Detroit needs it much more than Minnesota. They don't want to go to Philadelphia in the playoffs. They are at their best indoors on a fast track with their rabid fans in the stands. But make no doubt about it, the pressure is on them to win this game. For as much the Vikings would like to be the one seed, they're playing with house money. With Sam Darnold behind center, few had them pegged for the playoffs, let alone top spot in the NFC. Sam has earned himself a pig payday come next year. Anywhere from $45-55 million per year. I can't see Minnesota letting him go, regardless of how the season ends. What they do with their supposed quarterback in waiting, JJ McCarthy, who was lost for the year and opened the door for Sam, could be interesting. Being on a very manageable five-year rookie contract, the Vikings would be foolish to trade him away. 
              <br><br>              
              As for our little league, John H., Corey and Chris have set themselves in pole positions to take home the winnings. Good luck to all this week. I wish I wouldn't have squandered my best opportunity to win our competition, but c'est la vie. It's been fun. I hope you enjoyed it. I'll announce the winners early next week. 
              <br><br>              
              I think we should have a playoff pool again this year. Let me know if you're interested. I'll remind you with the note next week.
              <br><br>              
              Happy New Year. May 2025 be healthy and prosperous for us all. If you're going out tonight, <strong>don't drink and drive</strong>. 
              <br><br>
              Regards,
              <br><br>
              <strong>John Wyndels</strong><br>
              <strong>Commissioner, NFL Pick'em</strong>
            </p>
            
          </div>
        </div>
      </div>
      </div>

<!--<section class="news-grid">
      <div class="container">
      <div class="news-row">
        <article class="news-item">
          <div class="news-content">
            <img src="./img/news01.jpg" alt="Week 2 predictions" class="news-image" />
            <div class="news-tag">News</div>
            <time datetime="2024-09-05" class="feature-date">Sept 5, 2024</time>
            <h3 class="news-title">Week 2 bold predictions: upsets, breakout players, and more!</h3>
            <p class="news-summary">NFL news roundup: Latest league updates from Friday, Sept. 13</p>
          </div>
        </article>
        <article class="news-item">
          <div class="news-content">
            <img src="./img/news02.jpg" alt="Christian McCaffrey injury update" class="news-image" />
            <div class="news-tag">News</div>
            <time datetime="2024-09-05" class="feature-date">Sept 5, 2024</time>
            <h3 class="news-title">49ers RB Christian McCaffrey (calf/Achilles) ruled out for...</h3>
            <p class="news-summary">NFL news roundup: Latest league updates from Friday, Sept. 13</p>
          </div>
        </article>
        <article class="news-item">
          <div class="news-content">
            <img src="./img/news03.jpg" alt="NFL news roundup" class="news-image" />
            <div class="news-tag">News</div>
            <time datetime="2024-09-05" class="feature-date">Sept 5, 2024</time>
            <h3 class="news-title">NFL news roundup: Latest league updates from Friday, Sept. 13</h3>
            <p class="news-summary">NFL news roundup: Latest league updates from Friday, Sept. 13</p>
          </div>
        </article>
      </div>
      </div>
    </section> -->
  
    <section style="display: none;" class="vid-sched">
      <div class="video-schedule-wrapper">
        <!-- Video Container -->
        <div class="video-container">
          <div class="video-player">
            <iframe width="667" height="379" src="https://www.youtube.com/embed/rnBnOD2sIVM?si=KC3Q4EebT2ePRRtE&amp;start=7" title="NFL Week 9 Recap: Lions Rule In Lambeau, Kirk Cousins Lights Up Cowboys | FNIA | NFL on NBC" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
            <div class="video-info">
              <div class="video-meta">
                <time datetime="2024-11-3" class="video-date">Nov 3, 2024</time>
                <p class="video-title">NFL Week 9 Recap</p>
              </div>
            </div>
          </div>
        </div>
        <!-- Schedule Container -->
        <aside class="schedule">
          <div class="header-content">
            <header class="pl-header">
              <div class="pl-accent"></div>
              <h3 class="pl-title">Week 10 Schedule</h3>
            </header>
            <ul class="schedule-list">
              <li><strong>Cincinnati(db)</strong> @ Baltimore <strong>Thr</strong></li>
              <li>NY Giants @ <strong>Carolina(db)</strong> <strong>(08:30 CST Munich)</strong></li>
              <li><strong>New England(db)</strong> @ Chicago</li>
              <li>Buffalo @ Indianapolis</li>
              <li>Minnesota @ Jacksonville</li>
              <li><strong>Denver(db)</strong> @ Kansas City</li>
              <li>Atlanta @ New Orleans</li>
              <li>San Francisco @ <strong>Tampa Bay(db)</strong></li>
              <li>Pittsburgh @ Washington</li>
              <li><strong>Tennessee(db)</strong> @ LA Chargers</li>
              <li><strong>Disruptor(PS) GOTWk (TT +7.5)</strong></li>
              <li>NY Jets @ Arizona</li>
              <li>Philadelphia @ <strong>Dallas(db)</strong></li>
              <li>Detroit @ Houston</li>
              <li>Miami @ LA Rams <strong>Mon</strong></li>
              <li><strong>Byes:</strong> Cleveland, GB, LV, Houston</li>
            </ul>
          </div>
        </aside>
    </section>
    
    <div class="comment-box">
      <h2>Wednesday Report Comments</h2>
      <form id="commentForm">
        <div class="comment-form-group">
          <label for="name">Name:</label>
          <input type="text" id="name" required>
        </div>
        <div class="comment-form-group">
          <label for="comment">Comment:</label>
          <textarea id="comment" rows="4" required></textarea>
        </div>
        <button type="submit">Submit</button>
      </form>
      <div id="comments-box"></div>
    </div>
  
    <footer class="footer">
      <div class="footer-container">
        <nav class="footer-nav">
          <a href="index.html"></a><img src="./img/pickem_logo.png" alt="Footer logo" class="footer-logo" />
          <a href="picks.html" class="footer-link">This Week's Picks</a>
          <a href="leaderboard.html" class="footer-link">PL Leaderboard</a>
          <a href="survivor.html" class="footer-link">Survivor Series</a>
          <a href="weeklyreports.html" class="footer-link">WR Archive</a>
        </nav>
        <p class="copyright">© JW's Pick'em League 2024</p>
      </div>
    </footer>
  </section>

  <script>
    function toggleMenu() {
  var menuContent = document.getElementById("menu-content");
  menuContent.classList.toggle("menu-open");
}
  </script>

<!-- Comments -->

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs, query, orderBy, where, onSnapshot } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

  // Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyCYrLl1WIblJhDUi1lBt6sCHvdl37lhHgE",
    authDomain: "my-comments-section.firebaseapp.com",
    projectId: "my-comments-section",
    storageBucket: "my-comments-section.appspot.com",
    messagingSenderId: "74848503752",
    appId: "1:74848503752:web:27173c5299e3bd91b022fd"
  };

  // Initialize Firebase and Firestore
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // Define loadComments globally
  async function loadComments() {
      const pageIdentifier = window.location.pathname;

      console.log("Loading comments for:", pageIdentifier);
      const commentsBox = document.getElementById('comments-box');
      commentsBox.innerHTML = ''; // Clear previous comments

      try {
          const q = query(collection(db, 'comments'), where('page', '==', pageIdentifier), orderBy('timestamp', 'desc'));
          const querySnapshot = await getDocs(q);

          querySnapshot.forEach((doc) => {
              const comment = doc.data();
              const commentElement = document.createElement('div');
              const timestamp = comment.timestamp.toDate(); // Convert to JS Date
              commentElement.innerHTML = `
                  <strong>${comment.name}</strong> (${timestamp.toLocaleString()}):
                  <p>${comment.comment}</p>
                  <hr>
              `;
              commentsBox.appendChild(commentElement);
          });
      } catch (error) {
          console.error('Error loading comments:', error);
      }
  }

  // Real-time comments update listener
  const pageIdentifier = window.location.pathname;
  const q = query(collection(db, 'comments'), where('page', '==', pageIdentifier), orderBy('timestamp', 'desc'));

  onSnapshot(q, (snapshot) => {
      const commentsBox = document.getElementById('comments-box');
      commentsBox.innerHTML = ''; // Clear previous comments

      snapshot.forEach((doc) => {
          const comment = doc.data();
          const commentElement = document.createElement('div');
          const timestamp = comment.timestamp.toDate(); // Convert to JS Date
          commentElement.innerHTML = `
              <strong>${comment.name}</strong> (${timestamp.toLocaleString()}):
              <p>${comment.comment}</p>
              <hr>
          `;
          commentsBox.appendChild(commentElement);
      });
  });

  // Handle form submission
  document.getElementById('commentForm').addEventListener('submit', async function(e) {
      e.preventDefault(); // Prevent page reload

      const name = document.getElementById('name').value;
      const commentText = document.getElementById('comment').value;
      const pageIdentifier = window.location.pathname; // Page URL to identify comments for this page

      console.log("Submitting comment:", { name, commentText, pageIdentifier });

      try {
          await addDoc(collection(db, 'comments'), {
              name: name,
              comment: commentText,
              page: pageIdentifier,
              timestamp: new Date()
          });

          console.log('Comment added!');
          document.getElementById('commentForm').reset(); // Clear form
          // No need to manually reload comments, real-time listener will update them automatically
      } catch (error) {
          console.error('Error adding comment:', error);
      }
  });

  // Combined on page load
  window.onload = function() {
      fetchTableData(); // Fetch leaderboard data
      //loadComments(); // Initial load for comments
  };
</script>

</body>
</html>